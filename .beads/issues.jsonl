{"id":"InteractionNets-05c","title":"Iterative revision of NEW_InteractionNets_Short.md (section-by-section)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T22:18:27.754481463-07:00","created_by":"hailey","updated_at":"2026-01-01T22:25:06.731883254-07:00","closed_at":"2026-01-01T22:25:06.731883254-07:00","close_reason":"Closed","comments":[{"id":10,"issue_id":"InteractionNets-05c","author":"hailey","text":"Rewrote NEW_InteractionNets_Short.md with precise HVM4/Bend/HVM2 gotchas (dup-of-dup, MOV preconditions, CNF readback/label order, atomic link/subst). Word count 898 (~9% increase).","created_at":"2026-01-02T05:24:32Z"},{"id":11,"issue_id":"InteractionNets-05c","author":"hailey","text":"Final sweep done; NEW_InteractionNets_Short.md polished and within target word count.","created_at":"2026-01-02T05:25:02Z"}]}
{"id":"InteractionNets-1fd","title":"Revise InteractionNets_Short.md into NEW_InteractionNets_Short.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T21:58:30.062290812-07:00","created_by":"hailey","updated_at":"2026-01-01T22:06:41.345347148-07:00","closed_at":"2026-01-01T22:06:41.345347148-07:00","close_reason":"Closed","comments":[{"id":1,"issue_id":"InteractionNets-1fd","author":"hailey","text":"Update/expand InteractionNets_Short.md by ~5-15%, validate against HVM/HVM4/Bend docs and InteractionNets_Long.md; produce NEW_InteractionNets_Short.md; log research/questions.","created_at":"2026-01-02T04:58:46Z"},{"id":2,"issue_id":"InteractionNets-1fd","author":"hailey","text":"Plan: review hvm4 docs (interaction_calculus, memory) + InteractionNets_Long for gaps; add ~50-100 words (labels/cross-product, core rules, readback/collapse, scheduler/cost); keep worklog_interactionnets_short.md updated.","created_at":"2026-01-02T05:04:13Z"},{"id":3,"issue_id":"InteractionNets-1fd","author":"hailey","text":"Progress: reviewed hvm4 interaction_calculus + memory docs and InteractionNets_Long; created worklog_interactionnets_short.md; drafted NEW_InteractionNets_Short.md with +~10.8% words (confluence caveat, name-multiplicity hints, HVM4 core-rule reminder).","created_at":"2026-01-02T05:05:11Z"}]}
{"id":"InteractionNets-1hz","title":"Investigate MOV memoization (NOD/SUP/RED) for new_issue and propose fix","description":"Check SAFE_MOV guards in mov_nod/sup/red, reproduce failure, and determine correct memoization behavior.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T14:03:12.642087275-07:00","created_by":"hailey","updated_at":"2026-01-09T14:05:57.050031331-07:00","closed_at":"2026-01-09T14:05:57.050031331-07:00","close_reason":"Completed","comments":[{"id":83,"issue_id":"InteractionNets-1hz","author":"hailey","text":"Investigated new_issue: failure only when HVM4_SAFE_MOV=0 (memoization in mov_nod/sup/red). Default SAFE_MOV=1 (guards present) produces correct output. Conclusion: keep SAFE_MOV guards in mov_nod/sup/red (memoize only when unsafe mode enabled).","created_at":"2026-01-09T21:05:54Z"}]}
{"id":"InteractionNets-2kz","title":"Investigate payor_new MOV mismatch (nested scope reuse under MOV)","description":"Identify root cause of payor_new mismatch under SAFE_MOV=1, instrument if needed, and propose fix.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T01:42:45.242192252-07:00","created_by":"hailey","updated_at":"2026-01-10T02:51:37.665734476-07:00","closed_at":"2026-01-10T02:51:37.665734476-07:00","close_reason":"Completed"}
{"id":"InteractionNets-42s","title":"Experiment: manual dup on f in MOV bounty","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T22:24:07.771677101-07:00","created_by":"hailey","updated_at":"2026-01-02T22:28:05.595092224-07:00","closed_at":"2026-01-02T22:28:05.595092224-07:00","close_reason":"Completed","comments":[{"id":30,"issue_id":"InteractionNets-42s","author":"hailey","text":"Run /tmp/mov_bounty_fdup.hvm4 under -C1 -s -T1 and record output + interactions; compare to baseline MOV.","created_at":"2026-01-03T05:24:14Z"},{"id":33,"issue_id":"InteractionNets-42s","author":"hailey","text":"Ran: ./clang/main /tmp/mov_bounty_fdup.hvm4 -T1 -s -C1. Output: #O{#O{#O{#O{#I{#O{#E{}}}}}}}. Itrs: 104038. Matches DUP output but \u003e50k.","created_at":"2026-01-03T05:28:03Z"}]}
{"id":"InteractionNets-588","title":"Reproduce MOV vs DUP mismatch with -C1/-s","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T15:12:16.09599263-07:00","created_by":"hailey","updated_at":"2026-01-02T15:14:11.467052542-07:00","closed_at":"2026-01-02T15:14:11.467052542-07:00","close_reason":"Completed"}
{"id":"InteractionNets-5cf","title":"Investigate MOV gating (DP0/DP1) crash in gdb","description":"Re-enable MOV-as-WHNF gating, reproduce segfault, collect stack/values to pinpoint invalid term or slot","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-01-02T16:30:14.5746475-07:00","created_by":"hailey","updated_at":"2026-01-02T20:36:13.685538064-07:00","comments":[{"id":29,"issue_id":"InteractionNets-5cf","author":"hailey","text":"Reverted DUP/MOV gating + new DUP-GOT/DUP-MOV/MOV-DUP cases and MOV-LAM back to baseline (kept tracing). Crash/stack overflow on mov_bounty_min disappears; MOV output now stable (#O{λa.λb.A};%A=b;) with 246 itrs. So segfault was from added interactions, not baseline.","created_at":"2026-01-03T04:57:48Z"},{"id":43,"issue_id":"InteractionNets-5cf","author":"hailey","text":"Re-tested MOV gating (stop at MOV when top-of-stack is DP0/DP1) to trigger DUP-MOV. Still segfaults even if DP0/DP1 handles MOV via DUP-NOD or with wnf_dup_mov. GDB shows crash in wnf_alo_nod / term_new_, likely after deep recursion (stack corruption). MOV expr/body at MOV-UNDER-DUP are ALO (tag=7). Gating seems to create invalid ALO or nontermination.","created_at":"2026-01-03T11:24:34Z"}]}
{"id":"InteractionNets-5np","title":"Disambiguate evaluator vs collapse vs parser divergence","description":"Compare MOV vs DUP without -C, with -C1/-C10, single-thread; determine where divergence occurs.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T15:12:18.9195649-07:00","created_by":"hailey","updated_at":"2026-01-02T15:14:34.78337759-07:00","closed_at":"2026-01-02T15:14:34.78337759-07:00","close_reason":"Completed"}
{"id":"InteractionNets-5p2","title":"Rerun full bounty test with -C1/-s and capture outputs","description":"Run MOV and DUP variants, record output/interaction counts and confirm \u003c50k","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T16:30:21.249286198-07:00","created_by":"hailey","updated_at":"2026-01-04T15:44:26.511537666-07:00","closed_at":"2026-01-04T15:44:26.51153988-07:00"}
{"id":"InteractionNets-6k5","title":"Run existing tests/regressions in hvm4_static","description":"Run repo test scripts or known checks; document failures if any.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T15:12:37.474251337-07:00","created_by":"hailey","updated_at":"2026-01-09T14:10:24.95729354-07:00","closed_at":"2026-01-09T14:10:24.95729354-07:00","close_reason":"Completed","comments":[{"id":62,"issue_id":"InteractionNets-6k5","author":"hailey","text":"Ran `hvm4_static/test/_all_.sh`: most PASS. FAILs: `dup_basic` (missing expected result comment) and all newly added MOV/payor tests lacking expected result comments (mov_bounty*, mov_dup*, mov_erase*, mov_lam*, payor_repro*). Script also notes `clang` missing but C tests still ran via prebuilt main.","created_at":"2026-01-04T22:44:09Z"},{"id":69,"issue_id":"InteractionNets-6k5","author":"hailey","text":"Ran hvm4_static/test/_all_.sh: clang missing warning but all tests passed using existing clang/main binary.","created_at":"2026-01-05T00:03:01Z"},{"id":70,"issue_id":"InteractionNets-6k5","author":"hailey","text":"Re-ran ./hvm4_static/test/_all_.sh after narrowing SAFE_MOV to MOV-LAM only: all tests passed (clang missing warning only).","created_at":"2026-01-05T00:07:34Z"},{"id":72,"issue_id":"InteractionNets-6k5","author":"hailey","text":"Removed trace scaffolding + deleted unused dup_got/dup_mov/mov_dup includes; rebuilt and re-ran _all_.sh: PASS (clang missing warning only).","created_at":"2026-01-05T00:12:58Z"},{"id":86,"issue_id":"InteractionNets-6k5","author":"hailey","text":"Ran ./hvm4_static/test/_all_.sh; all tests passed. Note: script prints 'clang: command not found' but continues with existing clang/main binary.","created_at":"2026-01-09T21:10:20Z"}]}
{"id":"InteractionNets-6m5","title":"Implement fix for new_issue and validate bounty/payor/f3","description":"Apply code changes in hvm4_static, run new_issue/bounty/payor/f3 with -C1/-s, ensure outputs match and interactions \u003c50k.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T14:03:16.602296415-07:00","created_by":"hailey","updated_at":"2026-01-09T14:06:30.694009412-07:00","closed_at":"2026-01-09T14:06:30.694009412-07:00","close_reason":"Completed","comments":[{"id":84,"issue_id":"InteractionNets-6m5","author":"hailey","text":"Validation: new_issue passes with SAFE_MOV=1; fails with SAFE_MOV=0. Bounty MOV output #O{#O{#O{#O{#I{#O{#E{}}}}}}} at 24,805 itrs; DUP 97,885 itrs. f3 MOV/DUP both #O{#I{#E{}}}; payor MOV λa.a (unsafe mode yields λa.λb.λc.c). Ran hvm4_static/test/_all_.sh (clang missing warning but tests pass).","created_at":"2026-01-09T21:06:27Z"}]}
{"id":"InteractionNets-8i7","title":"Compare hvm4_static MOV/DUP implementation to submodule baseline","description":"Diff key wnf/mov/dup/sub handling vs hvm4/ to find deltas that could cause MOV-vs-DUP mismatch","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T16:30:11.789573674-07:00","created_by":"hailey","updated_at":"2026-01-02T16:37:59.332658799-07:00","closed_at":"2026-01-02T16:37:59.332658799-07:00","close_reason":"Compared hvm4_static vs hvm4; only semantic deltas are dup_got/dup_mov + wnf/_.c case additions","comments":[{"id":27,"issue_id":"InteractionNets-8i7","author":"hailey","text":"Diff vs hvm4 baseline: semantic deltas only in wnf/_.c (added DUP-GOT, DUP-MOV cases; GOT-\u003eMOV-NOD for VAR; MOV-DEFAULT trace) + new files dup_got.c and dup_mov.c. Other wnf/mov_* and dup_* changes are trace-only. heap/subst_{var,cop}.c are trace-only.","created_at":"2026-01-02T23:37:56Z"}]}
{"id":"InteractionNets-8js","title":"Track A: MOV clone aliasing / label-capture fix","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T15:01:07.35435971-07:00","created_by":"hailey","updated_at":"2026-01-04T16:48:05.32147346-07:00","closed_at":"2026-01-04T16:48:05.32147346-07:00","close_reason":"Completed","comments":[{"id":49,"issue_id":"InteractionNets-8js","author":"hailey","text":"Goal: fix implementation bug: MOV clone aliasing/label-capture. Suspect wnf_dup_mov label handling and MOV expr-slot sharing. Use f3 repro and payor repro; ensure MOV vs DUP match under -C1. Investigate label-renaming / fresh label for SUP without breaking full bounty.","created_at":"2026-01-04T22:01:18Z"},{"id":51,"issue_id":"InteractionNets-8js","author":"hailey","text":"Ran f3 with MOV trace; WNF output already wrong (#O{λa.λb.b} vs #O{#I{#E{}}}). Added DUP-MOV-ALLOC logging; DUP-MOV occurs twice (labs 8388610/8388611). No obvious duplicate bind_loc reuse in trace. Label mismatch experiments: fresh SUP-only fixes f3 but breaks full bounty (blowup). Need deeper root cause; likely in DUP-MOV/MOV-LAM interaction with mutable slots.","created_at":"2026-01-04T22:12:54Z"},{"id":52,"issue_id":"InteractionNets-8js","author":"hailey","text":"Added `hvm4_static/test/payor_repro.hvm4` (MOV+Dup minimal). Current output under -C1: `λa.λb.λc.c` (needs expected baseline). This repro can be used to test MOV/DUP safety.","created_at":"2026-01-04T22:13:25Z"},{"id":53,"issue_id":"InteractionNets-8js","author":"hailey","text":"Added MOV-LAM reuse log in wnf/mov_lam.c; no MOV-LAM-REUSE detected in f3 run (HVM4_TRACE_MOV=1). So direct lambda slot reuse not observed.","created_at":"2026-01-04T22:15:28Z"},{"id":54,"issue_id":"InteractionNets-8js","author":"hailey","text":"Options logged: (1) Safe MOV split fallback via GOT-time duplication (HVM4_SAFE_MOV) and fresh runtime labels; (2) build DUP baseline for payor_repro and diff traces; (3) add ALO bind-list and MOV expr-slot instrumentation to detect aliasing.","created_at":"2026-01-04T22:27:10Z"},{"id":55,"issue_id":"InteractionNets-8js","author":"hailey","text":"Proceeding with #1: added HVM4_SAFE_MOV env flag; GOT enter duplicates expr into DP0/DP1 with fresh runtime label and substitutes expr slot to DP1. This forces safe split at first use.","created_at":"2026-01-04T22:27:13Z"},{"id":56,"issue_id":"InteractionNets-8js","author":"hailey","text":"Safe MOV split (HVM4_SAFE_MOV) triggers (saw TRACE SAFE-MOV-SPLIT once) but f3 output still wrong. So simple GOT-time duplication not sufficient.","created_at":"2026-01-04T22:27:46Z"},{"id":57,"issue_id":"InteractionNets-8js","author":"hailey","text":"Payor repro mismatch: MOV `hvm4_static/test/payor_repro.hvm4` prints `λa.λb.λc.c` while DUP version prints `λa.a`. Trace diff shows MOV uses MOV-LAM/SUP (shared G) where DUP uses DUP-LAM/SUP. Safe MOV split on GOT (HVM4_SAFE_MOV) causes payor run to hang/time out (\u003e12s) and still doesn’t fix f3.","created_at":"2026-01-04T22:33:20Z"},{"id":58,"issue_id":"InteractionNets-8js","author":"hailey","text":"Introduced SAFE_MOV (no memoize) for MOV-LAM/SUP/NOD/NAM/DRY/RED. Payor repro now matches DUP when HVM4_SAFE_MOV=1. f3 still wrong. Safe MOV split moved to HVM4_SAFE_MOV_SPLIT due to infinite splitting in payor. No default regressions after gating ALO-dup experiment.","created_at":"2026-01-04T22:39:58Z"},{"id":61,"issue_id":"InteractionNets-8js","author":"hailey","text":"Fix direction: parser auto-dup for MOV only when uses\u003e2 (parse_auto_dup on BJM) + MOV-LAM no memoization (never heap_subst_var). This yields correct outputs for f3 and payor and gives 32,480 itrs on full bounty.","created_at":"2026-01-04T22:43:57Z"},{"id":64,"issue_id":"InteractionNets-8js","author":"hailey","text":"Current correct fix (mov_lam no memoize + MOV auto-dup uses\u003e2) yields correct outputs for f3/payor but `mov_bounty.hvm4 -C1 -s -T1` is 118,316 interactions (still above 50k). Added `mov_vs_dup_slow.sh` and updated `bounty_proof_report.md` to note MOV can be slower.","created_at":"2026-01-04T23:15:08Z"},{"id":68,"issue_id":"InteractionNets-8js","author":"hailey","text":"Perf fix found: revert wnf/_.c DP0/DP1 and GOT dispatch back to upstream (remove DUP-MOV/MOV-DUP/DUP-GOT and MOV-under-DUP special-case). With SAFE_MOV default on + auto-dup \u003e2, full bounty now 24,805 itrs, f3/payor correct.","created_at":"2026-01-04T23:47:46Z"},{"id":71,"issue_id":"InteractionNets-8js","author":"hailey","text":"Tightened SAFE_MOV to MOV-LAM only; re-measured: mov_bounty 24,805 itrs; f3/payor OK; mov_vs_dup_slow still shows MOV slower (22 vs 17).","created_at":"2026-01-05T00:07:38Z"},{"id":73,"issue_id":"InteractionNets-8js","author":"hailey","text":"Tried GOT-ext flag (uses==1) via bind list metadata: caused payor regression (λa.λb.λc.c) + timeouts on bounty/f3. Reverted to safe state; all tests pass again. Ext-flag approach likely unsafe without robust per-binding metadata.","created_at":"2026-01-05T01:06:05Z"}]}
{"id":"InteractionNets-8t5","title":"Review failed upstream PRs #14/#15/#17 for MOV/DUP bounty","description":"Fetch PR diffs and comments from HigherOrderCO/hvm4 to avoid repeating failed approaches","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T20:09:33.438115693-07:00","created_by":"hailey","updated_at":"2026-01-02T20:10:01.910769838-07:00","closed_at":"2026-01-02T20:10:01.910769838-07:00","close_reason":"Reviewed failed PRs #14/#15/#17 and summarized pitfalls","comments":[{"id":28,"issue_id":"InteractionNets-8t5","author":"hailey","text":"Reviewed upstream PRs: #14 removed MOV caching (heap_subst_var) in mov_*; still wrong output and 97k itrs (comment by Lorenzobattistela). #15 targeted MOV-LAM destructive sharing via DUP-based cloning; still wrong output (comment shows stuck A₁...); #17 replaced heap_read with heap_take + GOT in mov_sup/mov_nod for linearity; still wrong output (comment by Lorenzobattistela + falseywinchnet says only half fixed). Avoid these approaches verbatim.","created_at":"2026-01-03T03:09:59Z"}]}
{"id":"InteractionNets-9qu","title":"MOV/DUP repro instrumentation for nested DUP chain (3-use case)","description":"Instrument runtime to track nested DUP chain behavior in 3-use repro (mov_bounty_f3.hvm4 vs dup) and identify where MOV sharing diverges (copies/labels/GOT slots).","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-01-03T02:33:01.893241649-07:00","created_by":"hailey","updated_at":"2026-01-03T02:33:09.37828541-07:00","comments":[{"id":39,"issue_id":"InteractionNets-9qu","author":"hailey","text":"Starting now: instrument nested DUP chain in 3-use repro (mov_bounty_f3.*) to locate first divergence.","created_at":"2026-01-03T11:03:39Z"},{"id":41,"issue_id":"InteractionNets-9qu","author":"hailey","text":"Ran HVM4_TRACE_DUP on mov_bounty_f3.hvm4 after adding DUP-PUSH / DUP-APPLY / MOV-UNDER-DUP logs. Observed MOV-UNDER-DUP depth=1 at loc=375 and loc=669; DUP then applies to whnf=SUP. So MOV is reached under DP0/DP1 in enter but is bypassed (body evaluated), so DUP-MOV never fires in this repro.","created_at":"2026-01-03T11:05:48Z"},{"id":42,"issue_id":"InteractionNets-9qu","author":"hailey","text":"Refined trace: MOV-UNDER-DUP now logs top-of-stack. In mov_bounty_f3.hvm4, MOV hits with top_tag=DP0/DP1 (top_loc=369/663, top_lab=8388610), immediately followed by DUP-APPLY on whnf=SUP, so DUP-MOV never fires. This suggests DUP frame is top-of-stack and MOV is bypassed in enter.","created_at":"2026-01-03T11:07:49Z"}]}
{"id":"InteractionNets-9t9","title":"Investigate new_issue.hvm4 MOV/DUP mismatch","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2026-01-09T13:56:40.273902855-07:00","created_by":"hailey","updated_at":"2026-01-09T13:56:55.401340117-07:00","comments":[{"id":80,"issue_id":"InteractionNets-9t9","author":"hailey","text":"Repro new_issue.hvm4 (MOV vs DUP) mismatch: second element of #T output differs. Investigate MOV memoization/guards and fix; run tests + bounty.","created_at":"2026-01-09T20:56:47Z"}]}
{"id":"InteractionNets-9zd","title":"Design robust metadata channel for MOV uses==1 memoization","description":"Explore stronger metadata mechanism than bind-list ext to safely memoize MOV-LAM when uses==1; avoid payor regression. Consider binder side-table keyed by expr slot or explicit term wrapper.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T18:20:59.776878305-07:00","created_by":"hailey","updated_at":"2026-01-04T18:20:59.776878305-07:00","comments":[{"id":75,"issue_id":"InteractionNets-9zd","author":"hailey","text":"Implemented side-table MOV metadata (MOV_EXT_SAFE set when uses\u003c=1, mov_meta_set for binder slots, propagate meta across MOV interactions; MOV-LAM memoizes only when meta safe or LAM_ERA). All repros still pass; bounty MOV: 24,805 itrs, DUP: 97,885; payor: MOV 22 vs DUP 17. _all_.sh passes (clang missing).","created_at":"2026-01-05T01:47:55Z"},{"id":76,"issue_id":"InteractionNets-9zd","author":"hailey","text":"Tried MOV metadata channel; no measurable perf win (SAFE_MOV=1 vs 0 on uses\u003c=1 microbench shows no diff; core workloads unchanged). Reverted metadata code and returned to SAFE_MOV + auto-dup + safe-atom fast paths.","created_at":"2026-01-05T02:00:07Z"}]}
{"id":"InteractionNets-a0h","title":"Repro payor_new MOV vs DUP mismatch","description":"Run payor_new.hvm4 (MOV) and payor_new_dup.hvm4 (DUP) to confirm mismatch and record outputs.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T01:42:18.0299393-07:00","created_by":"hailey","updated_at":"2026-01-10T01:42:41.954590828-07:00","closed_at":"2026-01-10T01:42:41.954590828-07:00","close_reason":"Completed","comments":[{"id":87,"issue_id":"InteractionNets-a0h","author":"hailey","text":"Repro: payor_new MOV outputs  (wrong) while DUP variant outputs  (correct). Commands: ./hvm4_static/clang/main hvm4_static/test/payor_new.hvm4 -C1 and payor_new_dup.hvm4 -C1.","created_at":"2026-01-10T08:42:27Z"},{"id":88,"issue_id":"InteractionNets-a0h","author":"hailey","text":"Repro: payor_new MOV outputs: lambda a. A0(B0(a)); !A\u0026F___=A; !B\u0026F___=a; %A=C1; !C\u0026F___=b; (wrong). DUP variant outputs: lambda a. a (correct). Commands: ./hvm4_static/clang/main hvm4_static/test/payor_new.hvm4 -C1 and payor_new_dup.hvm4 -C1.","created_at":"2026-01-10T08:42:37Z"}]}
{"id":"InteractionNets-bd6","title":"Read MOV/DUP specs in hvm4_static docs and map to code","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T16:30:08.467076855-07:00","created_by":"hailey","updated_at":"2026-01-02T16:37:32.030309859-07:00","closed_at":"2026-01-02T16:37:32.030309859-07:00","close_reason":"Reviewed MOV/DUP docs and mapped to WNF/CNF code paths","comments":[{"id":26,"issue_id":"InteractionNets-bd6","author":"hailey","text":"Reviewed core.md/memory.md/syntax.md + mov_* and dup_* interaction docs. MOV rules documented (mov_lam/mov_sup/mov_nod/mov_mov/etc) have no label check; no DUP-MOV rule specified. WNF mov_* implementations match docs; MOV is transparent in wnf enter (like DUP). CNF treats MOV like general node; no extra MOV quoting rule beyond BJM.","created_at":"2026-01-02T23:37:29Z"}]}
{"id":"InteractionNets-bkv","title":"Cross-check InteractionNets_Long.md for contradictions and gaps","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T22:18:30.207747215-07:00","created_by":"hailey","updated_at":"2026-01-01T22:22:50.531428781-07:00","closed_at":"2026-01-01T22:22:50.531428781-07:00","close_reason":"Closed","comments":[{"id":9,"issue_id":"InteractionNets-bkv","author":"hailey","text":"Cross-checked InteractionNets_Long.md for key caveats (confluence≠termination/cost, readback order, MOV vs DUP, substitution cells). Notes added to worklog.","created_at":"2026-01-02T05:22:47Z"}]}
{"id":"InteractionNets-c6c","title":"Validate performance: MOV version \u003c50k interactions","description":"Run with -s (and -C1) to confirm interaction count \u003c50k on MOV test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T15:12:35.194969788-07:00","created_by":"hailey","updated_at":"2026-01-04T15:44:22.597625858-07:00","closed_at":"2026-01-04T15:44:22.597627632-07:00","comments":[{"id":60,"issue_id":"InteractionNets-c6c","author":"hailey","text":"Performance check: `hvm4_static/test/mov_bounty.hvm4 -C1 -s -T1` now 32,480 interactions (\u003c50k). DUP version still ~97,885.","created_at":"2026-01-04T22:43:53Z"},{"id":67,"issue_id":"InteractionNets-c6c","author":"hailey","text":"Performance now meets target: mov_bounty.hvm4 -C1 -s -T1 =\u003e 24,805 interactions (MOV); DUP still 97,885. Correct outputs preserved (f3/payor/bounty).","created_at":"2026-01-04T23:46:56Z"}]}
{"id":"InteractionNets-cbl","title":"Deepen NEW_InteractionNets_Long.md with deeper repo analysis + self-check examples","description":"Re-review HVM4/HVM2/Bend repos and HVM2 paper; add further clarifications, patterns, and example-driven notes to NEW_InteractionNets_Long.md; fix any issues found.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-01T22:57:16.574745499-07:00","created_by":"hailey","updated_at":"2026-01-02T09:20:03.768946118-07:00","comments":[{"id":19,"issue_id":"InteractionNets-cbl","author":"hailey","text":"Further pass: added HVM4 extended-rule family notes (RED/USE/INC/EQL/MAT/OP2/AND/OR/ALO, DUP-* propagation, APP-* stuckness, dynamic labels DDU/DSU, UNS), HVM2 port layout \u0026 substitution-map algorithm, safe REF copy flag, numeric payload layout, Bend strictness/fusion rule-of-thumb + lazy-defs; expanded self-test microcases and cheat sheets; added extra reference docs (lazy-definitions, compiler-options, writing-fusing-functions).","created_at":"2026-01-02T16:15:45Z"},{"id":20,"issue_id":"InteractionNets-cbl","author":"hailey","text":"Additional pass: added HVM4 extended-rule families (DUP-*, APP-* stuckness, DDU/DSU details, UNS), tightened EQL/AND/OR/MAT semantics, expanded collapser queue note, added HVM2 port layout + link algorithm + safety notes, Bend fusion/strictness hints, and extra self-test microcases + HVM2 cheat sheet.","created_at":"2026-01-02T16:17:34Z"},{"id":21,"issue_id":"InteractionNets-cbl","author":"hailey","text":"Priority 3+1 pass: added HVM4 clang runtime notes (WNF stack/frames, REF-\u003eALO, SUB cell behavior, DUP/MOV fallback, APP errors), CNF invariants (first SUP lift, ERA propagation), and expanded self-test + common mis-rewrite list. Added CNF microcases + DP0/DP1 no-APP rule. File length now ~830+ lines.","created_at":"2026-01-02T16:24:35Z"},{"id":22,"issue_id":"InteractionNets-cbl","author":"hailey","text":"Added WNF apply-phase dispatch table (condensed) from hvm4/clang/wnf/_.c covering APP/F_APP_RED/MAT/F_RED_MAT/USE/F_RED_USE/OP2/F_OP2_NUM/EQL/F_EQL_R/DSU/DDU/AND/OR/DP0/DP1/GOT behaviors.","created_at":"2026-01-02T16:29:18Z"},{"id":23,"issue_id":"InteractionNets-cbl","author":"hailey","text":"Checked NEW_InteractionNets_Long.md against InteractionNets_Long.md (normalized diff + URL diff). No correct info missing; all original points retained via rephrasing. Only intentional correction: removed ERA-LAM from core IC rules (replaced with APP-SUP).","created_at":"2026-01-02T16:37:21Z"},{"id":24,"issue_id":"InteractionNets-cbl","author":"hailey","text":"Token-compression pass: condensed sections 0–5, 7–9, glossary/worksheet, and refs intro; merged problem/expected self-tests into single lines; tightened wording across headings while preserving info. Line count now 751.","created_at":"2026-01-02T16:48:26Z"}]}
{"id":"InteractionNets-ch6","title":"Design MOV/DUP semantic fix (spec-aligned)","description":"Propose fix consistent with documented MOV rules; include invariants and expected effects","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-01-02T16:30:16.723834714-07:00","created_by":"hailey","updated_at":"2026-01-02T22:24:05.518572213-07:00","comments":[{"id":36,"issue_id":"InteractionNets-ch6","author":"hailey","text":"Experiments: replacing MOV with DUP for f or k individually fixes correctness. /tmp/mov_bounty_fdup.hvm4 (MOV only k) correct, 104038 itrs. /tmp/mov_bounty_kdup.hvm4 (MOV only f) correct, 115328 itrs. Both MOVs present (baseline) still wrong unless auto-dup. Suggests bug arises from MOV-MOV or multi-MOV interaction, not single MOV.","created_at":"2026-01-03T05:28:19Z"},{"id":37,"issue_id":"InteractionNets-ch6","author":"hailey","text":"Found minimal mismatch case for rep: bits @I(@I(@E)) (I,I). For bits @E/@O/@I/@O(@I)/@I(@O) outputs match; only I(I(E)) mismatches: MOV gives #O{λa.λb.b} vs DUP #O{#I{#E{}}}. insert_B alone works; mismatch appears in rep recursion. Tried MOV-MOV alias, DUP-MOV integration, MOV-DUP, DP0/DP1 ALO/REF forcing, GOT SUB-splitting, term_clone_at GOT handling; none fixed. No DUP-MOV/MOV-DUP triggered in trace for minimal case.","created_at":"2026-01-03T08:51:34Z"}]}
{"id":"InteractionNets-cnz","title":"Deep dive hvm4 docs (interaction_calculus, interactions, memory, syntax) for short primer","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T22:18:19.634628797-07:00","created_by":"hailey","updated_at":"2026-01-01T22:21:41.756311975-07:00","closed_at":"2026-01-01T22:21:41.756311975-07:00","close_reason":"Closed","comments":[{"id":6,"issue_id":"InteractionNets-cnz","author":"hailey","text":"Reviewed hvm4 core/syntax, interactions (app/dup/mov), memory, collapser, and interaction_calculus docs; captured notes in worklog_interactionnets_short.md.","created_at":"2026-01-02T05:21:38Z"}]}
{"id":"InteractionNets-cpg","title":"Repro new_issue MOV vs DUP mismatch in hvm4_static","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T14:03:06.934757474-07:00","created_by":"hailey","updated_at":"2026-01-09T14:04:54.866739983-07:00","closed_at":"2026-01-09T14:04:54.866739983-07:00","close_reason":"Completed","comments":[{"id":81,"issue_id":"InteractionNets-cpg","author":"hailey","text":"Reproduce mismatch using new_issue.hvm4 (MOV rep3 case) in hvm4_static; record outputs and interaction counts for MOV vs DUP.","created_at":"2026-01-09T21:03:27Z"},{"id":82,"issue_id":"InteractionNets-cpg","author":"hailey","text":"Repro new_issue.hvm4: default SAFE_MOV output OK (#T{#O{#O{#I{#E{}}}},... all four equal). With HVM4_SAFE_MOV=0, 2nd entry becomes #O{λa.λb.a(λc.λd.λe.e)} (mismatch). So unsafe memoization in MOV-NOD/SUP/RED reproduces bug.","created_at":"2026-01-09T21:04:45Z"}]}
{"id":"InteractionNets-cvs","title":"Review Bend and HVM2 docs for sharing/dup/sup/mov gotchas","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-01T22:43:42.536824832-07:00","created_by":"hailey","updated_at":"2026-01-01T22:53:13.280761819-07:00","closed_at":"2026-01-01T22:53:13.280761819-07:00","close_reason":"Completed","comments":[{"id":15,"issue_id":"InteractionNets-cvs","author":"hailey","text":"Extract applied intuition/gotchas on scopeless lambdas, dups/sups, compilation/readback from Bend/HVM2 docs for inclusion.","created_at":"2026-01-02T05:43:44Z"},{"id":17,"issue_id":"InteractionNets-cvs","author":"hailey","text":"Bend docs: auto-dup inserts explicit dups when vars used \u003e1; manual dup via let {x1 x2} = v; sup {a b} distributes; duplicating a duplicating variable causes destructive interference (incorrect LC behavior) → keep single source of duplication/linearize. Scopeless lambdas () allow use outside body; erasing scopeless lambda yields ERA (*); duplicating scopeless lambda yields SUP of args with compiler-chosen ordering; hBcvars don't cross definitions. Compilation/readback: Bend→HVM2 nets w/ 7 node kinds (ERA/CON/DUP/REF/NUM/OPR/MAT); constructors/dup/sup depend on port polarity; readback interprets CON node as lambda vs app depending on entry port; DUP node as dup vs sup depending on entry port. HVM2 paper highlights: main port implicit; nodes stored as 64-bit (two 32-bit ports), wires as atomic vars enabling lock-free interactions; interactions include LINK/CALL/VOID/ERAS/COMM/ANNI/OPER/SWIT; REF enables fast global defs and constant-space tail calls; ERA copies NUM/REF (REF with DUP triggers CALL).","created_at":"2026-01-02T05:47:24Z"}]}
{"id":"InteractionNets-dnz","title":"MOV vs DUP bounty: setup workspace + add test file","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T15:12:13.986553732-07:00","created_by":"hailey","updated_at":"2026-01-02T15:13:28.060926758-07:00","closed_at":"2026-01-02T15:13:28.060926758-07:00","close_reason":"Completed"}
{"id":"InteractionNets-e26","title":"Review HVM2 docs/paper for interaction combinators/runtime invariants","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T22:18:22.337675054-07:00","created_by":"hailey","updated_at":"2026-01-01T22:22:06.625308348-07:00","closed_at":"2026-01-01T22:22:06.625308348-07:00","close_reason":"Closed","comments":[{"id":7,"issue_id":"InteractionNets-e26","author":"hailey","text":"Reviewed HVM2.pdf sections on syntax, strong confluence, and atomic linking/substitution map; notes added to worklog_interactionnets_short.md.","created_at":"2026-01-02T05:22:02Z"}]}
{"id":"InteractionNets-e8a","title":"Update bounty proof report for new_issue + SAFE_MOV scope","description":"Add new_issue repro, adjust SAFE_MOV memoization scope narrative, and record test commands/outputs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T14:03:20.478536806-07:00","created_by":"hailey","updated_at":"2026-01-09T14:10:15.415500027-07:00","closed_at":"2026-01-09T14:10:15.415500027-07:00","close_reason":"Completed","comments":[{"id":85,"issue_id":"InteractionNets-e8a","author":"hailey","text":"Updated bounty_proof_report.md for new_issue, SAFE_MOV scope (LAM/NOD/SUP/RED), corrected repro list and unsafe-mode outputs; added new_issue evidence and files list.","created_at":"2026-01-09T21:10:12Z"}]}
{"id":"InteractionNets-ed6","title":"Configure git remote for InteractionNets repo (needed for push)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T22:06:34.594621511-07:00","created_by":"hailey","updated_at":"2026-01-02T12:45:22.075308617-07:00","closed_at":"2026-01-02T12:45:22.075308617-07:00","close_reason":"Completed","comments":[{"id":4,"issue_id":"InteractionNets-ed6","author":"hailey","text":"git remote -v is empty; required by mandatory push workflow. Need to set origin or document push target.","created_at":"2026-01-02T05:06:37Z"},{"id":5,"issue_id":"InteractionNets-ed6","author":"hailey","text":"User requested local-only work/no commits/push; leaving remote unset for now. Revisit only if push requirement reinstated.","created_at":"2026-01-02T05:18:33Z"}]}
{"id":"InteractionNets-efu","title":"Root cause isolation from traces","description":"Use traces to find first semantic divergence and isolate offending rule or SUB behavior.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-01-02T15:12:27.673598354-07:00","created_by":"hailey","updated_at":"2026-01-02T15:23:46.067714156-07:00","comments":[{"id":25,"issue_id":"InteractionNets-efu","author":"hailey","text":"Hypothesis: MOV terms are entered during DUP evaluation, so DP0/DP1 never see MOV; MOV binders get shared across duplicates (expr slot not duplicated). Likely need DUP-MOV rule + treat MOV as WHNF when top frame DP0/DP1, to duplicate MOV binder and update expr slot via SUP of GOTs (analogous to DUP-LAM).","created_at":"2026-01-02T23:06:07Z"}]}
{"id":"InteractionNets-hae","title":"Experiment: manual dup on f+k in MOV bounty","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T22:24:21.902430818-07:00","created_by":"hailey","updated_at":"2026-01-02T22:28:15.742554682-07:00","closed_at":"2026-01-02T22:28:15.742554682-07:00","close_reason":"Completed","comments":[{"id":32,"issue_id":"InteractionNets-hae","author":"hailey","text":"Run /tmp/mov_bounty_fkdup.hvm4 under -C1 -s -T1 and record output + interactions; compare to baseline MOV.","created_at":"2026-01-03T05:24:24Z"},{"id":35,"issue_id":"InteractionNets-hae","author":"hailey","text":"Ran: ./clang/main /tmp/mov_bounty_fkdup.hvm4 -T1 -s -C1. Output matches DUP. Itrs: 97890 (same as DUP).","created_at":"2026-01-03T05:28:13Z"}]}
{"id":"InteractionNets-ioz","title":"Experiment: manual dup on k in MOV bounty","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T22:24:17.097877379-07:00","created_by":"hailey","updated_at":"2026-01-02T22:28:11.021729561-07:00","closed_at":"2026-01-02T22:28:11.021729561-07:00","close_reason":"Completed","comments":[{"id":31,"issue_id":"InteractionNets-ioz","author":"hailey","text":"Run /tmp/mov_bounty_kdup.hvm4 under -C1 -s -T1 and record output + interactions; compare to baseline MOV.","created_at":"2026-01-03T05:24:19Z"},{"id":34,"issue_id":"InteractionNets-ioz","author":"hailey","text":"Ran: ./clang/main /tmp/mov_bounty_kdup.hvm4 -T1 -s -C1. Output matches DUP (#O{#O{#O{#O{#I{#O{#E{}}}}}}}). Itrs: 115328. MOV only on f + DUP on k =\u003e correct but \u003e50k.","created_at":"2026-01-03T05:28:08Z"}]}
{"id":"InteractionNets-jkw","title":"Evaluate label-aware MOV vs targeted 3+ use fallback","description":"Test hypothesis: MOV needs branch/label awareness when duplicated; compare against targeted fallback (convert MOV to DUP when \u003e2 uses) for correctness/perf on mov_bounty_f3 and full bounty.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T02:33:06.068011461-07:00","created_by":"hailey","updated_at":"2026-01-10T02:52:02.270793129-07:00","closed_at":"2026-01-10T02:52:02.270793129-07:00","close_reason":"Superseded by region-based MOV fallback","comments":[{"id":40,"issue_id":"InteractionNets-jkw","author":"hailey","text":"Queued as second path: evaluate label-aware MOV vs targeted MOV-\u003eDUP fallback once instrumentation pinpoints divergence.","created_at":"2026-01-03T11:03:41Z"}]}
{"id":"InteractionNets-k9p","title":"Implement MOV/DUP fix in hvm4_static","description":"Implement smallest correct fix aligned with docs/invariants.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-01-02T15:12:29.708939777-07:00","created_by":"hailey","updated_at":"2026-01-02T16:06:34.010137449-07:00"}
{"id":"InteractionNets-kgc","title":"Document upstream URLs and resubmodule steps","description":"Add upstream URLs and a pinned re-submodule command snippet to VENDORED_SUBMODULES.md.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T13:19:15.087610785-07:00","created_by":"hailey","updated_at":"2026-01-02T13:21:50.972009645-07:00","closed_at":"2026-01-02T13:21:50.972009645-07:00","close_reason":"Completed"}
{"id":"InteractionNets-ljp","title":"Write proof report markdown for bounty","description":"Record root cause, fix, commands, outputs, interaction counts, files changed.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T15:12:39.634348438-07:00","created_by":"hailey","updated_at":"2026-01-04T16:48:01.836018344-07:00","closed_at":"2026-01-04T16:48:01.836018344-07:00","close_reason":"Completed","comments":[{"id":63,"issue_id":"InteractionNets-ljp","author":"hailey","text":"Created proof report: `bounty_proof_report.md` with commands, outputs, interaction counts, and file changes.","created_at":"2026-01-04T22:44:58Z"}]}
{"id":"InteractionNets-nsg","title":"Minimize MOV vs DUP reproducer + toy cases","description":"Shrink bounty program and build isolated MOV/DUP examples to pinpoint divergence.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T15:12:25.64996621-07:00","created_by":"hailey","updated_at":"2026-01-02T15:23:41.951659344-07:00","closed_at":"2026-01-02T15:23:41.951659344-07:00","close_reason":"Completed"}
{"id":"InteractionNets-oqg","title":"Review HVM4 docs (interactions/memory/collapser) for additions","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-01T22:43:38.078989105-07:00","created_by":"hailey","updated_at":"2026-01-01T22:53:10.87591295-07:00","closed_at":"2026-01-01T22:53:10.87591295-07:00","close_reason":"Completed","comments":[{"id":14,"issue_id":"InteractionNets-oqg","author":"hailey","text":"Pull concrete details (rules, labels, memory layout, collapser behavior) from local hvm4/docs to expand InteractionNets_Long.md.","created_at":"2026-01-02T05:43:40Z"},{"id":16,"issue_id":"InteractionNets-oqg","author":"hailey","text":"HVM4 docs notes: core grammar includes DUP/SUP/MOV, dynamic labels (DSU/DDU), ALO (lazy instantiation of static book terms), RED/INC/DRY/NAM/ANY; parser has no whitespace application, postfix call f(...), cloned binders (\u0026) insert auto-dup; inline dup on lambda (λx\u0026L. body) desugars to λx. !x\u0026L = x; body. Memory: 64-bit term pointer SUB|TAG|EXT|VAL; linked vars (VAR/DP0/DP1/GOT) point to binder slots that become SUB cells; linked vs quoted binders (BJV/BJ0/BJ1/BJM) during collapse; DUP/MOV terms vs DUP/MOV nodes distinction; ALO bridges static↔dynamic. Collapser: cnf reduces to WNF then lifts first SUP; ERA bubbles, RED keeps RHS, INC affects priority; eval_collapse uses work-stealing key queue (key order affects output), FIFO per key when single-threaded. Core interactions APP-LAM/APP-SUP/DUP-LAM/DUP-SUP (labels: same annihilate, different commute); MOV propagation rules (MOV-LAM/SUP/NOD/DRY/NAM/RED/MOV).","created_at":"2026-01-02T05:47:16Z"}]}
{"id":"InteractionNets-oyt","title":"Read HVM4 docs for MOV/DUP/SUB/collapse and map to code","description":"Locate syntax/desugaring + core semantics docs in hvm4_static, then map to C implementation files.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T15:12:21.362489097-07:00","created_by":"hailey","updated_at":"2026-01-02T15:17:18.329377805-07:00","closed_at":"2026-01-02T15:17:18.329377805-07:00","close_reason":"Completed"}
{"id":"InteractionNets-ozz","title":"Scan Bend repo docs for IC/HVM mapping and gotchas","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-01T22:18:25.041740346-07:00","created_by":"hailey","updated_at":"2026-01-01T22:22:27.944876613-07:00","closed_at":"2026-01-01T22:22:27.944876613-07:00","close_reason":"Closed","comments":[{"id":8,"issue_id":"InteractionNets-ozz","author":"hailey","text":"Reviewed Bend docs (dups-and-sups, using-scopeless-lambdas, compilation/readback). Key gotchas noted in worklog_interactionnets_short.md (dup-of-dup hazard, non-lexical vars, sup order).","created_at":"2026-01-02T05:22:24Z"}]}
{"id":"InteractionNets-pon","title":"Write investigation summary document","description":"Create a concise but comprehensive summary of all MOV/DUP bounty investigations, including minimal repro code.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T04:29:30.967567737-07:00","created_by":"hailey","updated_at":"2026-01-03T04:31:39.877250156-07:00","closed_at":"2026-01-03T04:31:39.87725226-07:00","comments":[{"id":44,"issue_id":"InteractionNets-pon","author":"hailey","text":"Created investigation summary document at bounty_investigation_summary.md (includes full mov_bounty_f3*.hvm4 text, experiments, instrumentation, failures).","created_at":"2026-01-03T11:31:37Z"}]}
{"id":"InteractionNets-ppt","title":"Add gated instrumentation for MOV/DUP/SUB rules","description":"Add debug logging under env/flag in hvm4_static reducer for MOV/DUP interactions and SUB reads/writes.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T15:12:23.622212162-07:00","created_by":"hailey","updated_at":"2026-01-02T15:21:59.887020769-07:00","closed_at":"2026-01-02T15:21:59.887020769-07:00","close_reason":"Completed"}
{"id":"InteractionNets-q3z","title":"Validate correctness: MOV vs DUP outputs match","description":"Run -C1 and compare outputs for insert_A vs insert_B; record exact outputs.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T15:12:33.024288073-07:00","created_by":"hailey","updated_at":"2026-01-04T15:44:18.809006035-07:00","closed_at":"2026-01-04T15:44:18.809009231-07:00","comments":[{"id":59,"issue_id":"InteractionNets-q3z","author":"hailey","text":"Achieved correctness for repros: `hvm4_static/test/mov_bounty_f3.hvm4` now outputs `#O{#I{#E{}}}`; `hvm4_static/test/payor_repro.hvm4` now outputs `λa.a` matching `payor_repro_dup`.","created_at":"2026-01-04T22:43:48Z"}]}
{"id":"InteractionNets-q6c","title":"Refresh and expand InteractionNets_Long.md (research + revision)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T22:43:10.882096427-07:00","created_by":"hailey","updated_at":"2026-01-01T22:53:21.875458196-07:00","closed_at":"2026-01-01T22:53:21.875458196-07:00","close_reason":"Completed","comments":[{"id":13,"issue_id":"InteractionNets-q6c","author":"hailey","text":"Goal: improve/expand InteractionNets_Long.md by 20-50%, using local repos (HVM/HVM4/Bend) + external research; produce NEW_InteractionNets_Long.md; track learnings/questions as comments or new issues.","created_at":"2026-01-02T05:43:19Z"},{"id":18,"issue_id":"InteractionNets-q6c","author":"hailey","text":"Progress: created NEW_InteractionNets_Long.md with ~20%+ expansion; integrated HVM4 core/syntax/memory/collapser details, MOV rules, dynamic labels, scopeless lambdas, Bend dup-of-dup gotcha, HVM2 interaction combinator notes (atomic wires, 64-bit nodes, interaction set), added quick checklists and crosswalk. Open follow-ups if needed: scan remaining hvm4/docs/hvm4/interactions/* for any additional non-core rules worth summarizing; skim HVM2 paper sections on interaction table/memory layout for more precise terminology if deeper implementation notes are needed.","created_at":"2026-01-02T05:53:18Z"}]}
{"id":"InteractionNets-ql1","title":"Explore MOV-LAM template caching / clone memoization","description":"Investigate low-risk MOV-LAM performance wins (e.g., cache lam skeletons, clone-only memoization). Must preserve correctness on payor/f3/bounty. Compare to current SAFE_MOV=1 baseline and measure on mov_lam_bench + payor.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T18:20:49.348258201-07:00","created_by":"hailey","updated_at":"2026-01-10T02:52:07.774152234-07:00","closed_at":"2026-01-10T02:52:07.774152234-07:00","close_reason":"Not viable (template caching caused stack overflow on new_issue)","comments":[{"id":77,"issue_id":"InteractionNets-ql1","author":"hailey","text":"Attempted COW-in-app_lam with deep-clone mapping; HVM4_SAFE_MOV=0 + MOV_COW=1 breaks payor output (λa.λb.λc.c). Reverted COW changes and restored baseline. Bounty/f3/payor back to correct.","created_at":"2026-01-05T02:16:09Z"},{"id":78,"issue_id":"InteractionNets-ql1","author":"hailey","text":"Tried deeper COW (clone map incl. GOT slots and binder remap) behind HVM4_MOV_COW=1. Still incorrect: payor becomes λa.λb.λc.c and f3 segfaults. Reverted COW; baseline restored and passing.","created_at":"2026-01-05T02:21:36Z"},{"id":79,"issue_id":"InteractionNets-ql1","author":"hailey","text":"Tried MOV_DUP2 heuristic (use DUP when MOV uses==2 and val is LAM). It breaks payor output immediately, so reverted. Baseline restored; bounty/f3/payor still correct.","created_at":"2026-01-05T02:34:39Z"}]}
{"id":"InteractionNets-ryy","title":"Implement fix in hvm4_static and rerun minimal repro","description":"Apply code changes; verify mov_bounty_min vs mov_bounty_min_dup outputs match","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T16:30:18.899010969-07:00","created_by":"hailey","updated_at":"2026-01-04T16:47:38.902652949-07:00","closed_at":"2026-01-04T16:47:38.902652949-07:00","close_reason":"Completed","comments":[{"id":38,"issue_id":"InteractionNets-ryy","author":"hailey","text":"Added minimal repro for MOV failing at 3x apply: hvm4_static/test/mov_bounty_f3.hvm4 vs mov_bounty_f3_dup.hvm4. MOV output #O{λa.λb.b}, DUP output #O{#I{#E{}}}. Fails when f used 3x (λ\u0026f. f(f(f(x)))) but 2x works.","created_at":"2026-01-03T08:53:19Z"},{"id":65,"issue_id":"InteractionNets-ryy","author":"hailey","text":"Restored correctness fix: MOV-LAM no memoization + MOV auto-dup for \u003e2 uses. Rebuilt and re-ran: mov_bounty.hvm4 -C1 -s -T1 =\u003e correct output #O{#O{#O{#O{#I{#O{#E{}}}}}}} with 118,316 interactions; mov_bounty_f3 OK; payor_repro OK. Still over 50k.","created_at":"2026-01-04T23:31:08Z"},{"id":66,"issue_id":"InteractionNets-ryy","author":"hailey","text":"Removed DUP-MOV / MOV-DUP / DUP-GOT dispatches and MOV-under-DUP special-case in wnf/_.c (back to baseline). With SAFE_MOV default on + MOV auto-dup \u003e2: mov_bounty.hvm4 -C1 -s -T1 =\u003e 24,805 interactions (\u003c50k) and correct output; f3 + payor OK.","created_at":"2026-01-04T23:46:53Z"},{"id":74,"issue_id":"InteractionNets-ryy","author":"hailey","text":"Tried MOV-NOD/SUP fast-path for safe atomic fields (no GOT allocation). No change on payor/f3/bounty or mov_lam_bench; left in place as a harmless micro-optimization but benefit not observed.","created_at":"2026-01-05T01:21:05Z"}]}
{"id":"InteractionNets-s8b","title":"Track B: Safe MOV (split-on-demand) / conceptual limitation handling","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-01-04T15:01:09.863375254-07:00","created_by":"hailey","updated_at":"2026-01-04T15:15:36.180274704-07:00","comments":[{"id":50,"issue_id":"InteractionNets-s8b","author":"hailey","text":"Goal: explore Safe MOV (split-on-demand) to handle conceptual limitation from Payor counterexample. Implement runtime split when MOV share becomes unsafe; preserve correctness first, evaluate performance. Use payor repro + f3 + bounty full.","created_at":"2026-01-04T22:01:21Z"}]}
{"id":"InteractionNets-she","title":"Record original submodule SHAs","description":"Capture original gitlink SHAs for Bend/HVM/hvm4 so they can be re-submoduled later.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T13:15:29.395995958-07:00","created_by":"hailey","updated_at":"2026-01-02T13:16:16.594159999-07:00","closed_at":"2026-01-02T13:16:16.594159999-07:00","close_reason":"Completed"}
{"id":"InteractionNets-tt1","title":"Cleanup/debug-flag review for MOV instrumentation","description":"Ensure tracing remains gated and non-invasive; remove/adjust any crashy instrumentation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T16:30:23.441424303-07:00","created_by":"hailey","updated_at":"2026-01-10T02:52:11.113470771-07:00","closed_at":"2026-01-10T02:52:11.113470771-07:00","close_reason":"Completed"}
{"id":"InteractionNets-ty3","title":"Rename static copies and re-add submodules","description":"Rename Bend/HVM/hvm4 static copies to *_static, add upstream submodules at original paths, and update AGENTS guidance.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T14:55:16.195725729-07:00","created_by":"hailey","updated_at":"2026-01-02T15:00:54.348529399-07:00","closed_at":"2026-01-02T15:00:54.348529399-07:00","close_reason":"Completed"}
{"id":"InteractionNets-vuf","title":"Approach 1: handle DUP of MOV binders (DUP-MOV semantics)","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-01-03T04:39:12.537033462-07:00","created_by":"hailey","updated_at":"2026-01-03T04:39:28.36058717-07:00","comments":[{"id":45,"issue_id":"InteractionNets-vuf","author":"hailey","text":"Goal: implement correct DUP-of-MOV handling so duplicating a MOV binder yields independent MOV binders (no shared expr slot). Investigate WNF entry to surface MOV to DUP, implement/repair wnf_dup_mov, handle ALO bind-lists, ensure no crashes. Validate with mov_bounty_f3 + bounty_failure under -C1/-s.","created_at":"2026-01-03T11:39:22Z"},{"id":47,"issue_id":"InteractionNets-vuf","author":"hailey","text":"Tried pre-emptive DUP-MOV in wnf enter (pop DP0/DP1 and call wnf_dup_mov). Avoids crash but MOV output still wrong (#O{λa.λb.b}). DUP-MOV trace shows ALO bodies/vals; wnf_dup_mov is triggered. Removed previous GOT-SUB split and MOV-MOV change to align with upstream. Changing bind_loc to m_loc only made no difference; reverted. Gating MOV as WHNF caused stack-overflow in cnf (cycles). Likely wnf_dup_mov semantics still wrong or requires ALO-specific handling/label fix.","created_at":"2026-01-04T21:44:12Z"},{"id":48,"issue_id":"InteractionNets-vuf","author":"hailey","text":"New finding: changing DUP-MOV to use fresh label for SUP only (keep term_clone label=lab) makes mov_bounty_f3 output match DUP (#O{#I{#E{}}}) but breaks full mov_bounty (huge non-constructor output, high itrs). Using fresh label for clones+SUP (lab_mov) causes runtime error (cannot","created_at":"2026-01-04T21:54:18Z"}]}
{"id":"InteractionNets-x3d","title":"Add HVM4 core interaction table to NEW_InteractionNets_Short.md","description":"Add a compact markdown table summarizing APP-LAM, APP-SUP, DUP-SUP (label cases), DUP-LAM plus label behavior note.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T22:28:02.391173158-07:00","created_by":"hailey","updated_at":"2026-01-01T22:28:27.636612885-07:00","closed_at":"2026-01-01T22:28:27.636612885-07:00","close_reason":"Closed","comments":[{"id":12,"issue_id":"InteractionNets-x3d","author":"hailey","text":"Added compact HVM4 core interaction table with label behavior note to NEW_InteractionNets_Short.md; updated worklog.","created_at":"2026-01-02T05:28:24Z"}]}
{"id":"InteractionNets-z2c","title":"Vendor submodules as regular folders","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T13:06:50.219168059-07:00","created_by":"hailey","updated_at":"2026-01-02T13:10:36.031283977-07:00","closed_at":"2026-01-02T13:10:36.031283977-07:00","close_reason":"Completed"}
{"id":"InteractionNets-za1","title":"Approach 2: fallback/label-aware MOV (convert to DUP when unsafe)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T04:39:15.16333144-07:00","created_by":"hailey","updated_at":"2026-01-10T02:51:57.118224722-07:00","closed_at":"2026-01-10T02:51:57.118224722-07:00","close_reason":"Completed","comments":[{"id":46,"issue_id":"InteractionNets-za1","author":"hailey","text":"Fallback plan if DUP-MOV fix is risky: detect unsafe MOV (e.g., 3+ uses or label conflicts) and lower to DUP or insert explicit DUP at bind site. Compare to existing task InteractionNets-jkw; decide whether to merge/close to avoid duplication.","created_at":"2026-01-03T11:39:25Z"}]}
